---
import {getCollection} from "astro:content";
import {Markdown} from "@astropub/md";

import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";

export async function getStaticPaths() {
  const projectEntries = await getCollection("projects");
  return projectEntries.map((entry) => ({
    params: {slug: entry.slug},
    props: {entry},
  }));
}

const {entry} = Astro.props;
---

<Layout title={entry.data.title}>
  <Container>
    <h1>{entry.data.title}</h1>
    <Markdown of={entry.body} />
  </Container>
</Layout>

<link rel="stylesheet" href="/css/hljs-github-dark.css" />
<script src="/js/highlight.min.js" is:inline></script>
<script is:inline>
  hljs.highlightAll();
</script>
